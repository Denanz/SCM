# Эмулятор Shell

Этот проект представляет собой эмулятор оболочки для управления виртуальной файловой системой, извлеченной из архива tar. Эмулятор поддерживает базовые команды файловой системы, такие как `ls`, `cd`, `chmod`, `mv` и `rmdir`. Команды записываются в JSON-файл для логирования.

## Содержание
- [Общее описание](#общее-описание)
- [Функции и настройки](#функции-и-настройки)
- [Команды для сборки проекта](#команды-для-сборки-проекта)
- [Примеры использования](#Пример-использования-программы)
- [Результаты тестов](#результаты-тестов)

## Общее описаниеa

Эмулятор оболочки симулирует окружение, похожее на Unix, с командами, работающими внутри виртуальной файловой системы, извлеченной из указанного tar-архива. Он написан на Python и поддерживает основные файловые операции.

## Функции и настройки

### Поддерживаемые команды

- **ls**: Отображает список файлов и каталогов в текущей директории.
- **cd**: Изменяет директорию. Поддерживает переход к подкаталогам и возврат в родительский каталог.
- **chmod**: Изменяет права доступа к файлу.
- **mv**: Переименовывает файл или перемещает его в другую директорию.
- **rmdir**: Удаляет пустой каталог.
- **exit**: Завершает работу эмулятора и сохраняет журнал команд в `log.json`.

### Настройки

Файл конфигурации `config.ini` должен иметь следующий формат:
```ini
[DEFAULT]
filesystem = /путь/к/вашему/fs.tar
logfile = log.json
```
- **filesystem**: Путь к tar-архиву с виртуальной файловой системой.
- **logfile**: Путь к JSON-файлу, где будут храниться логи команд.

# Пример использования программы

1. **Клонируем репозиторий**

``` bash
git clone https://github.com/Denanz/SCM.git
cd SCM/HW1
```

2. **Запуск эмулятора**

``` bash
python emulator.py config.ini
```

3. **Пример использованя**

``` bash
 virtual_fs> ls
   ['dir1', 'file1.txt', 'file2.txt']

   virtual_fs> cd dir1

   virtual_fs/dir1> chmod 755 file1.txt

   virtual_fs/dir1> mv file1.txt renamed_file.txt

   virtual_fs/dir1> rmdir empty_dir

   virtual_fs/dir1> exit
```

## Содержание log.json

``` json
[
    {
        "command": "cd",
        "directory": "dir1",
        "status": "success"
    },
    {
        "command": "chmod",
        "file": "file1.txt",
        "mode": "755",
        "status": "success"
    },
    {
        "command": "mv",
        "source": "file1.txt",
        "destination": "renamed_file.txt",
        "status": "success"
    },
    {
        "command": "rmdir",
        "directory": "empty_dir",
        "status": "success"
    }
]
```

## Результаты тестов

![image](https://github.com/user-attachments/assets/3317f504-a00c-4a04-8938-8298fb4cade5)
